<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>ConsumeAMQP</title><link rel="stylesheet" href="../../../../../css/component-usage.css" type="text/css"></link></head><script type="text/javascript">window.onload = function(){if(self==top) { document.getElementById('nameHeader').style.display = "inherit"; } }</script><body><h1 id="nameHeader" style="display: none;">ConsumeAMQP</h1><h2>Description: </h2><p>Consumes AMQP Messages from an AMQP Broker using the AMQP 0.9.1 protocol. Each message that is received from the AMQP Broker will be emitted as its own FlowFile to the 'success' relationship.</p><p><a href="additionalDetails.html">Additional Details...</a></p><h3>Tags: </h3><p>amqp, rabbit, get, message, receive, consume</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values, whether a property supports the <a href="../../../../../html/expression-language-guide.html">NiFi Expression Language</a>, and whether a property is considered "sensitive", meaning that its value will be encrypted. Before entering a value in a sensitive property, ensure that the <strong>nifi.properties</strong> file has an entry for the property <strong>nifi.sensitive.props.key</strong>.</p><table id="properties"><tr><th>Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name"><strong>Queue</strong></td><td id="default-value"></td><td id="allowable-values"></td><td id="description">The name of the existing AMQP Queue from which messages will be consumed. Usually pre-defined by AMQP administrator. </td></tr><tr><td id="name"><strong>Auto-Acknowledge messages</strong></td><td id="default-value">false</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">If true, messages that are received will be auto-acknowledged by the AMQP Broker. This generally will provide better throughput but could result in messages being lost upon restart of NiFi</td></tr><tr><td id="name"><strong>Batch Size</strong></td><td id="default-value">10</td><td id="allowable-values"></td><td id="description">The maximum number of messages that should be pulled in a single session. Once this many messages have been received (or once no more messages are readily available), the messages received will be transferred to the 'success' relationship and the messages will be acknowledged with the AMQP Broker. Setting this value to a larger number could result in better performance, particularly for very small messages, but can also result in more messages being duplicated upon sudden restart of NiFi.</td></tr><tr><td id="name"><strong>Host Name</strong></td><td id="default-value">localhost</td><td id="allowable-values"></td><td id="description">Network address of AMQP broker (e.g., localhost)<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Port</strong></td><td id="default-value">5672</td><td id="allowable-values"></td><td id="description">Numeric value identifying Port of AMQP broker (e.g., 5671)<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Virtual Host</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Virtual Host name which segregates AMQP system for enhanced security.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>User Name</strong></td><td id="default-value">guest</td><td id="allowable-values"></td><td id="description">User Name used for authentication and authorization.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Password</strong></td><td id="default-value">guest</td><td id="allowable-values"></td><td id="description">Password used for authentication and authorization.<br/><strong>Sensitive Property: true</strong></td></tr><tr><td id="name"><strong>AMQP Version</strong></td><td id="default-value">0.9.1</td><td id="allowable-values"><ul><li>0.9.1</li></ul></td><td id="description">AMQP Version. Currently only supports AMQP v0.9.1.</td></tr><tr><td id="name">SSL Context Service</td><td id="default-value"></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>SSLContextService<br/><strong>Implementations: </strong><a href="../../../../../components/org.apache.nifi/nifi-ssl-context-service-nar/1.9.2/org.apache.nifi.ssl.StandardSSLContextService/index.html">StandardSSLContextService</a><br/><a href="../../../../../components/org.apache.nifi/nifi-ssl-context-service-nar/1.9.2/org.apache.nifi.ssl.StandardRestrictedSSLContextService/index.html">StandardRestrictedSSLContextService</a></td><td id="description">The SSL Context Service used to provide client certificate information for TLS/SSL connections.</td></tr><tr><td id="name">Use Certificate Authentication</td><td id="default-value">false</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">Authenticate using the SSL certificate common name rather than user name/password.</td></tr><tr><td id="name">Client Auth</td><td id="default-value">REQUIRED</td><td id="allowable-values"><ul><li>WANT</li><li>REQUIRED</li><li>NONE</li></ul></td><td id="description">Client authentication policy when connecting to secure (TLS/SSL) AMQP broker. Possible values are REQUIRED, WANT, NONE. This property is only used when an SSL Context has been defined and enabled.</td></tr></table><h3>Relationships: </h3><table id="relationships"><tr><th>Name</th><th>Description</th></tr><tr><td>success</td><td>All FlowFiles that are received from the AMQP queue are routed to this relationship</td></tr></table><h3>Reads Attributes: </h3>None specified.<h3>Writes Attributes: </h3><table id="writes-attributes"><tr><th>Name</th><th>Description</th></tr><tr><td>amqp$appId</td><td>The App ID field from the AMQP Message</td></tr><tr><td>amqp$contentEncoding</td><td>The Content Encoding reported by the AMQP Message</td></tr><tr><td>amqp$contentType</td><td>The Content Type reported by the AMQP Message</td></tr><tr><td>amqp$headers</td><td>The headers present on the AMQP Message</td></tr><tr><td>amqp$deliveryMode</td><td>The numeric indicator for the Message's Delivery Mode</td></tr><tr><td>amqp$priority</td><td>The Message priority</td></tr><tr><td>amqp$correlationId</td><td>The Message's Correlation ID</td></tr><tr><td>amqp$replyTo</td><td>The value of the Message's Reply-To field</td></tr><tr><td>amqp$expiration</td><td>The Message Expiration</td></tr><tr><td>amqp$messageId</td><td>The unique ID of the Message</td></tr><tr><td>amqp$timestamp</td><td>The timestamp of the Message, as the number of milliseconds since epoch</td></tr><tr><td>amqp$type</td><td>The type of message</td></tr><tr><td>amqp$userId</td><td>The ID of the user</td></tr><tr><td>amqp$clusterId</td><td>The ID of the AMQP Cluster</td></tr></table><h3>State management: </h3>This component does not store state.<h3>Restricted: </h3>This component is not restricted.<h3>Input requirement: </h3>This component does not allow an incoming relationship.<h3>System Resource Considerations:</h3>None specified.</body></html>