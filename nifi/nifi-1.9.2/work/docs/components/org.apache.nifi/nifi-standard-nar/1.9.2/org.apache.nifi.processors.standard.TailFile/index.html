<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>TailFile</title><link rel="stylesheet" href="../../../../../css/component-usage.css" type="text/css"></link></head><script type="text/javascript">window.onload = function(){if(self==top) { document.getElementById('nameHeader').style.display = "inherit"; } }</script><body><h1 id="nameHeader" style="display: none;">TailFile</h1><h2>Description: </h2><p>"Tails" a file, or a list of files, ingesting data from the file as it is written to the file. The file is expected to be textual. Data is ingested only when a new line is encountered (carriage return or new-line character or combination). If the file to tail is periodically "rolled over", as is generally the case with log files, an optional Rolling Filename Pattern can be used to retrieve data from files that have rolled over, even if the rollover occurred while NiFi was not running (provided that the data still exists upon restart of NiFi). It is generally advisable to set the Run Schedule to a few seconds, rather than running with the default value of 0 secs, as this Processor will consume a lot of resources if scheduled very aggressively. At this time, this Processor does not support ingesting files that have been compressed when 'rolled over'.</p><p><a href="additionalDetails.html">Additional Details...</a></p><h3>Tags: </h3><p>tail, file, log, text, source</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values, and whether a property supports the <a href="../../../../../html/expression-language-guide.html">NiFi Expression Language</a>.</p><table id="properties"><tr><th>Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name"><strong>Tailing mode</strong></td><td id="default-value">Single file</td><td id="allowable-values"><ul><li>Single file <img src="../../../../../html/images/iconInfo.png" alt="In this mode, only the one file indicated in the 'Files to tail' property will be watched by the processor. In this mode, the file may not exist when starting the processor." title="In this mode, only the one file indicated in the 'Files to tail' property will be watched by the processor. In this mode, the file may not exist when starting the processor."></img></li><li>Multiple files <img src="../../../../../html/images/iconInfo.png" alt="In this mode, the 'Files to tail' property accepts a regular expression and the processor will look for files in 'Base directory' to list the files to tail by the processor." title="In this mode, the 'Files to tail' property accepts a regular expression and the processor will look for files in 'Base directory' to list the files to tail by the processor."></img></li></ul></td><td id="description">Mode to use: single file will tail only one file, multiple file will look for a list of file. In Multiple mode the Base directory is required.</td></tr><tr><td id="name"><strong>File(s) to Tail</strong></td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Path of the file to tail in case of single file mode. If using multifile mode, regular expression to find files to tail in the base directory. In case recursivity is set to true, the regular expression will be used to match the path starting from the base directory (see additional details for examples).<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Rolling Filename Pattern</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">If the file to tail "rolls over" as would be the case with log files, this filename pattern will be used to identify files that have rolled over so that if NiFi is restarted, and the file has rolled over, it will be able to pick up where it left off. This pattern supports wildcard characters * and ?, it also supports the notation ${filename} to specify a pattern based on the name of the file (without extension), and will assume that the files that have rolled over live in the same directory as the file being tailed. The same glob pattern will be used for all files.</td></tr><tr><td id="name">Base directory</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Base directory used to look for files to tail. This property is required when using Multifile mode.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Initial Start Position</strong></td><td id="default-value">Beginning of File</td><td id="allowable-values"><ul><li>Beginning of Time <img src="../../../../../html/images/iconInfo.png" alt="Start with the oldest data that matches the Rolling Filename Pattern and then begin reading from the File to Tail" title="Start with the oldest data that matches the Rolling Filename Pattern and then begin reading from the File to Tail"></img></li><li>Beginning of File <img src="../../../../../html/images/iconInfo.png" alt="Start with the beginning of the File to Tail. Do not ingest any data that has already been rolled over" title="Start with the beginning of the File to Tail. Do not ingest any data that has already been rolled over"></img></li><li>Current Time <img src="../../../../../html/images/iconInfo.png" alt="Start with the data at the end of the File to Tail. Do not ingest any data thas has already been rolled over or any data in the File to Tail that has already been written." title="Start with the data at the end of the File to Tail. Do not ingest any data thas has already been rolled over or any data in the File to Tail that has already been written."></img></li></ul></td><td id="description">When the Processor first begins to tail data, this property specifies where the Processor should begin reading data. Once data has been ingested from a file, the Processor will continue from the last point from which it has received data.</td></tr><tr><td id="name"><strong>State Location</strong></td><td id="default-value">Local</td><td id="allowable-values"><ul><li>Local <img src="../../../../../html/images/iconInfo.png" alt="State is stored locally. Each node in a cluster will tail a different file." title="State is stored locally. Each node in a cluster will tail a different file."></img></li><li>Remote <img src="../../../../../html/images/iconInfo.png" alt="State is located on a remote resource. This Processor will store state across the cluster so that it can be run on Primary Node Only and a new Primary Node can pick up where the last one left off." title="State is located on a remote resource. This Processor will store state across the cluster so that it can be run on Primary Node Only and a new Primary Node can pick up where the last one left off."></img></li></ul></td><td id="description">Specifies where the state is located either local or cluster so that state can be stored appropriately in order to ensure that all data is consumed without duplicating data upon restart of NiFi</td></tr><tr><td id="name"><strong>Recursive lookup</strong></td><td id="default-value">false</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">When using Multiple files mode, this property defines if files must be listed recursively or not in the base directory.</td></tr><tr><td id="name">Lookup frequency</td><td id="default-value">10 minutes</td><td id="allowable-values"></td><td id="description">Only used in Multiple files mode and Changing name rolling strategy. It specifies the minimum duration the processor will wait before listing again the files to tail.</td></tr><tr><td id="name">Maximum age</td><td id="default-value">24 hours</td><td id="allowable-values"></td><td id="description">Only used in Multiple files mode and Changing name rolling strategy. It specifies the necessary minimum duration to consider that no new messages will be appended in a file regarding its last modification date. This should not be set too low to avoid duplication of data in case new messages are appended at a lower frequency.</td></tr></table><h3>Relationships: </h3><table id="relationships"><tr><th>Name</th><th>Description</th></tr><tr><td>success</td><td>All FlowFiles are routed to this Relationship.</td></tr></table><h3>Reads Attributes: </h3>None specified.<h3>Writes Attributes: </h3><table id="writes-attributes"><tr><th>Name</th><th>Description</th></tr><tr><td>tailfile.original.path</td><td>Path of the original file the flow file comes from.</td></tr></table><h3>State management: </h3><table id="stateful"><tr><th>Scope</th><th>Description</th></tr><tr><td>LOCAL, CLUSTER</td><td>Stores state about where in the Tailed File it left off so that on restart it does not have to duplicate data. State is stored either local or clustered depend on the &lt;File Location&gt; property.</td></tr></table><h3>Restricted: </h3><table id="restrictions"><tr><th>Required Permission</th><th>Explanation</th></tr><tr><td>read filesystem</td><td>Provides operator the ability to read from any file that NiFi has access to.</td></tr></table><h3>Input requirement: </h3>This component does not allow an incoming relationship.<h3>System Resource Considerations:</h3>None specified.</body></html>