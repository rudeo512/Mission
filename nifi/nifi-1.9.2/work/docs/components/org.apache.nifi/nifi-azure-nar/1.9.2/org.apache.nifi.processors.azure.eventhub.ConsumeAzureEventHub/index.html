<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>ConsumeAzureEventHub</title><link rel="stylesheet" href="../../../../../css/component-usage.css" type="text/css"></link></head><script type="text/javascript">window.onload = function(){if(self==top) { document.getElementById('nameHeader').style.display = "inherit"; } }</script><body><h1 id="nameHeader" style="display: none;">ConsumeAzureEventHub</h1><h2>Description: </h2><p>Receives messages from a Microsoft Azure Event Hub, writing the contents of the Azure message to the content of the FlowFile.</p><h3>Tags: </h3><p>azure, microsoft, cloud, eventhub, events, streaming, streams</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values, whether a property supports the <a href="../../../../../html/expression-language-guide.html">NiFi Expression Language</a>, and whether a property is considered "sensitive", meaning that its value will be encrypted. Before entering a value in a sensitive property, ensure that the <strong>nifi.properties</strong> file has an entry for the property <strong>nifi.sensitive.props.key</strong>.</p><table id="properties"><tr><th>Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name"><strong>Event Hub Namespace</strong></td><td id="default-value"></td><td id="allowable-values"></td><td id="description">The Azure Namespace that the Event Hub is assigned to. This is generally equal to &lt;Event Hub Name&gt;-ns.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Event Hub Name</strong></td><td id="default-value"></td><td id="allowable-values"></td><td id="description">The name of the Azure Event Hub to pull messages from.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Shared Access Policy Name</strong></td><td id="default-value"></td><td id="allowable-values"></td><td id="description">The name of the Event Hub Shared Access Policy. This Policy must have Listen permissions.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Shared Access Policy Primary Key</strong></td><td id="default-value"></td><td id="allowable-values"></td><td id="description">The primary key of the Event Hub Shared Access Policy.<br/><strong>Sensitive Property: true</strong><br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Event Hub Consumer Group</strong></td><td id="default-value">$Default</td><td id="allowable-values"></td><td id="description">The name of the Event Hub Consumer Group to use.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Event Hub Consumer Hostname</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">The hostname of this Event Hub Consumer instance. If not specified, an unique identifier is generated in 'nifi-&lt;UUID&gt;' format.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Record Reader</td><td id="default-value"></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>RecordReaderFactory<br/><strong>Implementations: </strong><a href="../../../../../components/org.apache.nifi/nifi-record-serialization-services-nar/1.9.2/org.apache.nifi.grok.GrokReader/index.html">GrokReader</a><br/><a href="../../../../../components/org.apache.nifi/nifi-record-serialization-services-nar/1.9.2/org.apache.nifi.syslog.SyslogReader/index.html">SyslogReader</a><br/><a href="../../../../../components/org.apache.nifi/nifi-scripting-nar/1.9.2/org.apache.nifi.record.script.ScriptedReader/index.html">ScriptedReader</a><br/><a href="../../../../../components/org.apache.nifi/nifi-record-serialization-services-nar/1.9.2/org.apache.nifi.json.JsonPathReader/index.html">JsonPathReader</a><br/><a href="../../../../../components/org.apache.nifi/nifi-record-serialization-services-nar/1.9.2/org.apache.nifi.json.JsonTreeReader/index.html">JsonTreeReader</a><br/><a href="../../../../../components/org.apache.nifi/nifi-record-serialization-services-nar/1.9.2/org.apache.nifi.syslog.Syslog5424Reader/index.html">Syslog5424Reader</a><br/><a href="../../../../../components/org.apache.nifi/nifi-record-serialization-services-nar/1.9.2/org.apache.nifi.avro.AvroReader/index.html">AvroReader</a><br/><a href="../../../../../components/org.apache.nifi/nifi-record-serialization-services-nar/1.9.2/org.apache.nifi.xml.XMLReader/index.html">XMLReader</a><br/><a href="../../../../../components/org.apache.nifi/nifi-record-serialization-services-nar/1.9.2/org.apache.nifi.csv.CSVReader/index.html">CSVReader</a></td><td id="description">The Record Reader to use for reading received messages. The Event Hub name can be referred by Expression Language '${eventhub.name}' to access a schema.</td></tr><tr><td id="name">Record Writer</td><td id="default-value"></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>RecordSetWriterFactory<br/><strong>Implementations: </strong><a href="../../../../../components/org.apache.nifi/nifi-record-serialization-services-nar/1.9.2/org.apache.nifi.avro.AvroRecordSetWriter/index.html">AvroRecordSetWriter</a><br/><a href="../../../../../components/org.apache.nifi/nifi-scripting-nar/1.9.2/org.apache.nifi.record.script.ScriptedRecordSetWriter/index.html">ScriptedRecordSetWriter</a><br/><a href="../../../../../components/org.apache.nifi/nifi-record-serialization-services-nar/1.9.2/org.apache.nifi.text.FreeFormTextRecordSetWriter/index.html">FreeFormTextRecordSetWriter</a><br/><a href="../../../../../components/org.apache.nifi/nifi-record-serialization-services-nar/1.9.2/org.apache.nifi.xml.XMLRecordSetWriter/index.html">XMLRecordSetWriter</a><br/><a href="../../../../../components/org.apache.nifi/nifi-record-serialization-services-nar/1.9.2/org.apache.nifi.json.JsonRecordSetWriter/index.html">JsonRecordSetWriter</a><br/><a href="../../../../../components/org.apache.nifi/nifi-record-serialization-services-nar/1.9.2/org.apache.nifi.csv.CSVRecordSetWriter/index.html">CSVRecordSetWriter</a></td><td id="description">The Record Writer to use for serializing Records to an output FlowFile. The Event Hub name can be referred by Expression Language '${eventhub.name}' to access a schema. If not specified, each message will create a FlowFile.</td></tr><tr><td id="name"><strong>Initial Offset</strong></td><td id="default-value">end-of-stream</td><td id="allowable-values"><ul><li>Start of stream <img src="../../../../../html/images/iconInfo.png" alt="Read from the oldest message retained in the stream." title="Read from the oldest message retained in the stream."></img></li><li>End of stream <img src="../../../../../html/images/iconInfo.png" alt="Ignore old retained messages even if exist, start reading new ones from now." title="Ignore old retained messages even if exist, start reading new ones from now."></img></li></ul></td><td id="description">Specify where to start receiving messages if offset is not stored in Azure Storage.</td></tr><tr><td id="name"><strong>Prefetch Count</strong></td><td id="default-value">300</td><td id="allowable-values"></td><td id="description">No Description Provided.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Batch Size</strong></td><td id="default-value">10</td><td id="allowable-values"></td><td id="description">The number of messages to process within a NiFi session. This parameter affects throughput and consistency. NiFi commits its session and Event Hub checkpoint after processing this number of messages. If NiFi session is committed, but failed to create an Event Hub checkpoint, then it is possible that the same messages to be retrieved again. The higher number, the higher throughput, but possibly less consistent.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Message Receive Timeout</strong></td><td id="default-value">1 min</td><td id="allowable-values"></td><td id="description">The amount of time this consumer should wait to receive the Prefetch Count before returning.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Storage Account Name</strong></td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Name of the Azure Storage account to store Event Hub Consumer Group state.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Storage Account Key</strong></td><td id="default-value"></td><td id="allowable-values"></td><td id="description">The Azure Storage account key to store Event Hub Consumer Group state.<br/><strong>Sensitive Property: true</strong><br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Storage Container Name</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Name of the Azure Storage Container to store Event Hub Consumer Group state. If not specified, Event Hub name is used.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr></table><h3>Relationships: </h3><table id="relationships"><tr><th>Name</th><th>Description</th></tr><tr><td>success</td><td>FlowFiles received from Event Hub.</td></tr><tr><td>parse.failure</td><td>If a message from Event Hub cannot be parsed using the configured Record Reader or failed to be written by the configured Record Writer, the contents of the message will be routed to this Relationship as its own individual FlowFile.</td></tr></table><h3>Reads Attributes: </h3>None specified.<h3>Writes Attributes: </h3><table id="writes-attributes"><tr><th>Name</th><th>Description</th></tr><tr><td>eventhub.enqueued.timestamp</td><td>The time (in milliseconds since epoch, UTC) at which the message was enqueued in the Azure Event Hub</td></tr><tr><td>eventhub.offset</td><td>The offset into the partition at which the message was stored</td></tr><tr><td>eventhub.sequence</td><td>The Azure Sequence number associated with the message</td></tr><tr><td>eventhub.name</td><td>The name of the Event Hub from which the message was pulled</td></tr><tr><td>eventhub.partition</td><td>The name of the Azure Partition from which the message was pulled</td></tr></table><h3>State management: </h3>This component does not store state.<h3>Restricted: </h3>This component is not restricted.<h3>Input requirement: </h3>This component does not allow an incoming relationship.<h3>System Resource Considerations:</h3>None specified.</body></html>