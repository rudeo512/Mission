<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>JsonQueryElasticsearch</title><link rel="stylesheet" href="../../../../../css/component-usage.css" type="text/css"></link></head><script type="text/javascript">window.onload = function(){if(self==top) { document.getElementById('nameHeader').style.display = "inherit"; } }</script><body><h1 id="nameHeader" style="display: none;">JsonQueryElasticsearch</h1><h2>Description: </h2><p>A processor that allows the user to run a query (with aggregations) written with the ElasticSearch JSON DSL. It does not automatically paginate queries for the user. If an incoming relationship is added to this processor, it will use the flowfile's content for the query. Care should be taken on the size of the query because the entire response from ElasticSearch will be loaded into memory all at once and converted into the resulting flowfiles.</p><p><a href="additionalDetails.html">Additional Details...</a></p><h3>Tags: </h3><p>elasticsearch, elasticsearch 5, query, read, get, json</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values, and whether a property supports the <a href="../../../../../html/expression-language-guide.html">NiFi Expression Language</a>.</p><table id="properties"><tr><th>Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name">Query</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">A query in JSON syntax, not Lucene syntax. Ex: {"query":{"match":{"somefield":"somevalue"}}}. If this parameter is not set, the query will be read from the flowfile content.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name">Query Attribute</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">If set, the executed query will be set on each result flowfile in the specified attribute.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name"><strong>Index</strong></td><td id="default-value"></td><td id="allowable-values"></td><td id="description">The name of the index to use.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name">Type</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">The type of this document (used by Elasticsearch for indexing and searching)<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name"><strong>Client Service</strong></td><td id="default-value"></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>ElasticSearchClientService<br/><strong>Implementation: </strong><a href="../../../../../components/org.apache.nifi/nifi-elasticsearch-client-service-nar/1.9.2/org.apache.nifi.elasticsearch.ElasticSearchClientServiceImpl/index.html">ElasticSearchClientServiceImpl</a></td><td id="description">An ElasticSearch client service to use for running queries.</td></tr><tr><td id="name"><strong>Split up search results</strong></td><td id="default-value">splitUp-no</td><td id="allowable-values"><ul><li>No <img src="../../../../../html/images/iconInfo.png" alt="Don't split up results." title="Don't split up results."></img></li><li>Yes <img src="../../../../../html/images/iconInfo.png" alt="Split up results." title="Split up results."></img></li></ul></td><td id="description">Split up search results into one flowfile per result.</td></tr><tr><td id="name"><strong>Split up aggregation results</strong></td><td id="default-value">splitUp-no</td><td id="allowable-values"><ul><li>No <img src="../../../../../html/images/iconInfo.png" alt="Don't split up results." title="Don't split up results."></img></li><li>Yes <img src="../../../../../html/images/iconInfo.png" alt="Split up results." title="Split up results."></img></li></ul></td><td id="description">Split up aggregation results into one flowfile per result.</td></tr></table><h3>Relationships: </h3><table id="relationships"><tr><th>Name</th><th>Description</th></tr><tr><td>aggregations</td><td>Aggregations are routed to this relationship.</td></tr><tr><td>failure</td><td>All FlowFiles that cannot be read from Elasticsearch are routed to this relationship</td></tr><tr><td>original</td><td>All original flowfiles that don't cause an error to occur go to this relationship. This applies even if you select the "split up hits" option to send individual hits to the "hits" relationship.</td></tr><tr><td>hits</td><td>Search hits are routed to this relationship.</td></tr></table><h3>Reads Attributes: </h3>None specified.<h3>Writes Attributes: </h3><table id="writes-attributes"><tr><th>Name</th><th>Description</th></tr><tr><td>mime.type</td><td>application/json</td></tr><tr><td>aggregation.name</td><td>The name of the aggregation whose results are in the output flowfile</td></tr></table><h3>State management: </h3>This component does not store state.<h3>Restricted: </h3>This component is not restricted.<h3>Input requirement: </h3>This component allows an incoming relationship.<h3>System Resource Considerations:</h3>None specified.</body></html>