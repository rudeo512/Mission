<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>DruidTranquilityController</title><link rel="stylesheet" href="../../../../../css/component-usage.css" type="text/css"></link></head><script type="text/javascript">window.onload = function(){if(self==top) { document.getElementById('nameHeader').style.display = "inherit"; } }</script><body><h1 id="nameHeader" style="display: none;">DruidTranquilityController</h1><h2>Description: </h2><p>Asynchronously sends flowfiles to Druid Indexing Task using Tranquility API. If aggregation and roll-up of data is required, an Aggregator JSON descriptor needs to be provided.Details on how describe aggregation using JSON can be found at: http://druid.io/docs/latest/querying/aggregations.html</p><h3>Tags: </h3><p>Druid, Timeseries, OLAP, ingest</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values, and whether a property supports the <a href="../../../../../html/expression-language-guide.html">NiFi Expression Language</a>.</p><table id="properties"><tr><th>Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name"><strong>Druid Data Source</strong></td><td id="default-value"></td><td id="allowable-values"></td><td id="description">A data source is the Druid equivalent of a database table.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Zookeeper Connection String</strong></td><td id="default-value"></td><td id="allowable-values"></td><td id="description">A comma-separated list of host:port pairs, each corresponding to a ZooKeeper server. Ex: localhost:2181<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Zookeeper Retry Base Sleep Time</strong></td><td id="default-value">1000</td><td id="allowable-values"></td><td id="description">When a connection to Zookeeper needs to be retried, this property specifies the amount of time (in milliseconds) to wait at first before retrying.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Zookeeper Retry Max Retries</strong></td><td id="default-value">20</td><td id="allowable-values"></td><td id="description">When a connection to Zookeeper needs to be retried, this property specifies how many times to attempt reconnection.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Zookeeper Retry Sleep Time</strong></td><td id="default-value">30000</td><td id="allowable-values"></td><td id="description">When a connection to Zookeeper needs to be retried, this property specifies the amount of time to sleep (in milliseconds) between retries.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Index Service Path</strong></td><td id="default-value">druid/overlord</td><td id="allowable-values"></td><td id="description">Druid Index Service path as defined via the Druid Overlord druid.service property.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Discovery Path</strong></td><td id="default-value">/druid/discovery</td><td id="allowable-values"></td><td id="description">Druid Discovery Path as configured in Druid Common druid.discovery.curator.path property<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Cluster Partitions</strong></td><td id="default-value">1</td><td id="allowable-values"></td><td id="description">The number of partitions in the Druid cluster.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Cluster Replication</strong></td><td id="default-value">1</td><td id="allowable-values"></td><td id="description">The replication factor for the Druid cluster.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Dimension Fields</strong></td><td id="default-value"></td><td id="allowable-values"></td><td id="description">A comma separated list of field names that will be stored as dimensions on ingest.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Aggregator JSON</strong></td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Tranquility-compliant JSON string that defines what aggregators to apply on ingest.Example: [{	"type" : "count",	"name" : "count",},{	"name" : "value_sum",	"type" : "doubleSum",	"fieldName" : "value"},{	"fieldName" : "value",	"name" : "value_min",	"type" : "doubleMin"},{	"type" : "doubleMax",	"name" : "value_max",	"fieldName" : "value"}]<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Segment Granularity</strong></td><td id="default-value">TEN_MINUTE</td><td id="allowable-values"><ul><li>NONE</li><li>SECOND</li><li>MINUTE</li><li>TEN_MINUTE</li><li>HOUR</li><li>DAY</li><li>MONTH</li><li>YEAR</li></ul></td><td id="description">Time unit by which to group and aggregate/rollup events. The value must be at least as large as the value of Query Granularity.</td></tr><tr><td id="name"><strong>Query Granularity</strong></td><td id="default-value">MINUTE</td><td id="allowable-values"><ul><li>NONE</li><li>SECOND</li><li>MINUTE</li><li>FIFTEEN_MINUTE</li><li>THIRTY_MINUTE</li><li>HOUR</li><li>DAY</li><li>MONTH</li><li>YEAR</li></ul></td><td id="description">Time unit by which to group and aggregate/rollup events. The value must be less than or equal to the value of Segment Granularity.</td></tr><tr><td id="name"><strong>Late Event Grace Period</strong></td><td id="default-value">PT10M</td><td id="allowable-values"><ul><li>1 minute <img src="../../../../../html/images/iconInfo.png" alt="1 minute" title="1 minute"></img></li><li>10 minutes <img src="../../../../../html/images/iconInfo.png" alt="10 minutes" title="10 minutes"></img></li><li>60 minutes <img src="../../../../../html/images/iconInfo.png" alt="1 hour" title="1 hour"></img></li></ul></td><td id="description">Grace period to allow late arriving events for real time ingest.</td></tr><tr><td id="name"><strong>Timestamp field</strong></td><td id="default-value">timestamp</td><td id="allowable-values"></td><td id="description">The name of the field that will be used as the timestamp. Should be in ISO8601 format.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Batch Size</strong></td><td id="default-value">2000</td><td id="allowable-values"></td><td id="description">Maximum number of messages to send at once.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Max Pending Batches</strong></td><td id="default-value">5</td><td id="allowable-values"></td><td id="description">Maximum number of batches that may be in flight before service blocks and waits for one to finish.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Linger (milliseconds)</strong></td><td id="default-value">1000</td><td id="allowable-values"></td><td id="description">Wait this long for batches to collect more messages (up to Batch Size) before sending them. Set to zero to disable waiting. Set to -1 to always wait for complete batches before sending. <br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr></table><h3>State management: </h3>This component does not store state.<h3>Restricted: </h3>This component is not restricted.<h3>System Resource Considerations:</h3>None specified.</body></html>