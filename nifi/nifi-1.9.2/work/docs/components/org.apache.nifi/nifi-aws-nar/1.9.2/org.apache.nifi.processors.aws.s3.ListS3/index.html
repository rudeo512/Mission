<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>ListS3</title><link rel="stylesheet" href="../../../../../css/component-usage.css" type="text/css"></link></head><script type="text/javascript">window.onload = function(){if(self==top) { document.getElementById('nameHeader').style.display = "inherit"; } }</script><body><h1 id="nameHeader" style="display: none;">ListS3</h1><h2>Description: </h2><p>Retrieves a listing of objects from an S3 bucket. For each object that is listed, creates a FlowFile that represents the object so that it can be fetched in conjunction with FetchS3Object. This Processor is designed to run on Primary Node only in a cluster. If the primary node changes, the new Primary Node will pick up where the previous node left off without duplicating all of the data.</p><h3>Tags: </h3><p>Amazon, S3, AWS, list</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values, whether a property supports the <a href="../../../../../html/expression-language-guide.html">NiFi Expression Language</a>, and whether a property is considered "sensitive", meaning that its value will be encrypted. Before entering a value in a sensitive property, ensure that the <strong>nifi.properties</strong> file has an entry for the property <strong>nifi.sensitive.props.key</strong>.</p><table id="properties"><tr><th>Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name"><strong>Bucket</strong></td><td id="default-value"></td><td id="allowable-values"></td><td id="description">No Description Provided.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Region</strong></td><td id="default-value">us-west-2</td><td id="allowable-values"><ul><li>AWS GovCloud (US) <img src="../../../../../html/images/iconInfo.png" alt="AWS Region Code : us-gov-west-1" title="AWS Region Code : us-gov-west-1"></img></li><li>AWS GovCloud (US-East) <img src="../../../../../html/images/iconInfo.png" alt="AWS Region Code : us-gov-east-1" title="AWS Region Code : us-gov-east-1"></img></li><li>US East (N. Virginia) <img src="../../../../../html/images/iconInfo.png" alt="AWS Region Code : us-east-1" title="AWS Region Code : us-east-1"></img></li><li>US East (Ohio) <img src="../../../../../html/images/iconInfo.png" alt="AWS Region Code : us-east-2" title="AWS Region Code : us-east-2"></img></li><li>US West (N. California) <img src="../../../../../html/images/iconInfo.png" alt="AWS Region Code : us-west-1" title="AWS Region Code : us-west-1"></img></li><li>US West (Oregon) <img src="../../../../../html/images/iconInfo.png" alt="AWS Region Code : us-west-2" title="AWS Region Code : us-west-2"></img></li><li>EU (Ireland) <img src="../../../../../html/images/iconInfo.png" alt="AWS Region Code : eu-west-1" title="AWS Region Code : eu-west-1"></img></li><li>EU (London) <img src="../../../../../html/images/iconInfo.png" alt="AWS Region Code : eu-west-2" title="AWS Region Code : eu-west-2"></img></li><li>EU (Paris) <img src="../../../../../html/images/iconInfo.png" alt="AWS Region Code : eu-west-3" title="AWS Region Code : eu-west-3"></img></li><li>EU (Frankfurt) <img src="../../../../../html/images/iconInfo.png" alt="AWS Region Code : eu-central-1" title="AWS Region Code : eu-central-1"></img></li><li>Asia Pacific (Mumbai) <img src="../../../../../html/images/iconInfo.png" alt="AWS Region Code : ap-south-1" title="AWS Region Code : ap-south-1"></img></li><li>Asia Pacific (Singapore) <img src="../../../../../html/images/iconInfo.png" alt="AWS Region Code : ap-southeast-1" title="AWS Region Code : ap-southeast-1"></img></li><li>Asia Pacific (Sydney) <img src="../../../../../html/images/iconInfo.png" alt="AWS Region Code : ap-southeast-2" title="AWS Region Code : ap-southeast-2"></img></li><li>Asia Pacific (Tokyo) <img src="../../../../../html/images/iconInfo.png" alt="AWS Region Code : ap-northeast-1" title="AWS Region Code : ap-northeast-1"></img></li><li>Asia Pacific (Seoul) <img src="../../../../../html/images/iconInfo.png" alt="AWS Region Code : ap-northeast-2" title="AWS Region Code : ap-northeast-2"></img></li><li>South America (Sao Paulo) <img src="../../../../../html/images/iconInfo.png" alt="AWS Region Code : sa-east-1" title="AWS Region Code : sa-east-1"></img></li><li>China (Beijing) <img src="../../../../../html/images/iconInfo.png" alt="AWS Region Code : cn-north-1" title="AWS Region Code : cn-north-1"></img></li><li>China (Ningxia) <img src="../../../../../html/images/iconInfo.png" alt="AWS Region Code : cn-northwest-1" title="AWS Region Code : cn-northwest-1"></img></li><li>Canada (Central) <img src="../../../../../html/images/iconInfo.png" alt="AWS Region Code : ca-central-1" title="AWS Region Code : ca-central-1"></img></li></ul></td><td id="description">No Description Provided.</td></tr><tr><td id="name">Access Key ID</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">No Description Provided.<br/><strong>Sensitive Property: true</strong><br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Secret Access Key</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">No Description Provided.<br/><strong>Sensitive Property: true</strong><br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Write Object Tags</strong></td><td id="default-value">false</td><td id="allowable-values"><ul><li>True</li><li>False</li></ul></td><td id="description">If set to 'True', the tags associated with the S3 object will be written as FlowFile attributes</td></tr><tr><td id="name">Credentials File</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Path to a file containing AWS access key and secret key in properties file format.</td></tr><tr><td id="name">AWS Credentials Provider service</td><td id="default-value"></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>AWSCredentialsProviderService<br/><strong>Implementation: </strong><a href="../../../../../components/org.apache.nifi/nifi-aws-nar/1.9.2/org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderControllerService/index.html">AWSCredentialsProviderControllerService</a></td><td id="description">The Controller Service that is used to obtain aws credentials provider</td></tr><tr><td id="name"><strong>Communications Timeout</strong></td><td id="default-value">30 secs</td><td id="allowable-values"></td><td id="description">No Description Provided.</td></tr><tr><td id="name">SSL Context Service</td><td id="default-value"></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>SSLContextService<br/><strong>Implementations: </strong><a href="../../../../../components/org.apache.nifi/nifi-ssl-context-service-nar/1.9.2/org.apache.nifi.ssl.StandardSSLContextService/index.html">StandardSSLContextService</a><br/><a href="../../../../../components/org.apache.nifi/nifi-ssl-context-service-nar/1.9.2/org.apache.nifi.ssl.StandardRestrictedSSLContextService/index.html">StandardRestrictedSSLContextService</a></td><td id="description">Specifies an optional SSL Context Service that, if provided, will be used to create connections</td></tr><tr><td id="name">Endpoint Override URL</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Endpoint URL to use instead of the AWS default including scheme, host, port, and path. The AWS libraries select an endpoint URL based on the AWS region, but this property overrides the selected endpoint URL, allowing use with other S3-compatible endpoints.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Signer Override</td><td id="default-value">Default Signature</td><td id="allowable-values"><ul><li>Default Signature</li><li>Signature v4</li><li>Signature v2</li></ul></td><td id="description">The AWS libraries use the default signer but this property allows you to specify a custom signer to support older S3-compatible services.</td></tr><tr><td id="name">Proxy Configuration Service</td><td id="default-value"></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>ProxyConfigurationService<br/><strong>Implementation: </strong><a href="../../../../../components/org.apache.nifi/nifi-proxy-configuration-nar/1.9.2/org.apache.nifi.proxy.StandardProxyConfigurationService/index.html">StandardProxyConfigurationService</a></td><td id="description">Specifies the Proxy Configuration Controller Service to proxy network requests. If set, it supersedes proxy settings configured per component. Supported proxies: HTTP + AuthN</td></tr><tr><td id="name">Proxy Host</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Proxy host name or IP<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Proxy Host Port</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Proxy host port<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Proxy Username</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Proxy username<br/><strong>Supports Expression Language: true (undefined scope)</strong></td></tr><tr><td id="name">Proxy Password</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Proxy password<br/><strong>Sensitive Property: true</strong><br/><strong>Supports Expression Language: true (undefined scope)</strong></td></tr><tr><td id="name">Delimiter</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">The string used to delimit directories within the bucket. Please consult the AWS documentation for the correct use of this field.</td></tr><tr><td id="name">Prefix</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">The prefix used to filter the object list. In most cases, it should end with a forward slash ('/').<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Use Versions</strong></td><td id="default-value">false</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">Specifies whether to use S3 versions, if applicable.  If false, only the latest version of each object will be returned.</td></tr><tr><td id="name"><strong>List Type</strong></td><td id="default-value">1</td><td id="allowable-values"><ul><li>List Objects V1</li><li>List Objects V2</li></ul></td><td id="description">Specifies whether to use the original List Objects or the newer List Objects Version 2 endpoint.</td></tr><tr><td id="name"><strong>Minimum Object Age</strong></td><td id="default-value">0 sec</td><td id="allowable-values"></td><td id="description">The minimum age that an S3 object must be in order to be considered; any object younger than this amount of time (according to last modification date) will be ignored</td></tr></table><h3>Relationships: </h3><table id="relationships"><tr><th>Name</th><th>Description</th></tr><tr><td>success</td><td>FlowFiles are routed to success relationship</td></tr></table><h3>Reads Attributes: </h3>None specified.<h3>Writes Attributes: </h3><table id="writes-attributes"><tr><th>Name</th><th>Description</th></tr><tr><td>s3.bucket</td><td>The name of the S3 bucket</td></tr><tr><td>filename</td><td>The name of the file</td></tr><tr><td>s3.etag</td><td>The ETag that can be used to see if the file has changed</td></tr><tr><td>s3.isLatest</td><td>A boolean indicating if this is the latest version of the object</td></tr><tr><td>s3.lastModified</td><td>The last modified time in milliseconds since epoch in UTC time</td></tr><tr><td>s3.length</td><td>The size of the object in bytes</td></tr><tr><td>s3.storeClass</td><td>The storage class of the object</td></tr><tr><td>s3.version</td><td>The version of the object, if applicable</td></tr><tr><td>s3.tag.___</td><td>If 'Write Object Tags' is set to 'True', the tags associated to the S3 object that is being listed will be written as part of the flowfile attributes</td></tr></table><h3>State management: </h3><table id="stateful"><tr><th>Scope</th><th>Description</th></tr><tr><td>CLUSTER</td><td>After performing a listing of keys, the timestamp of the newest key is stored, along with the keys that share that same timestamp. This allows the Processor to list only keys that have been added or modified after this date the next time that the Processor is run. State is stored across the cluster so that this Processor can be run on Primary Node only and if a new Primary Node is selected, the new node can pick up where the previous node left off, without duplicating the data.</td></tr></table><h3>Restricted: </h3>This component is not restricted.<h3>Input requirement: </h3>This component does not allow an incoming relationship.<h3>System Resource Considerations:</h3>None specified.<h3>See Also:</h3><p><a href="../../../../../components/org.apache.nifi/nifi-aws-nar/1.9.2/org.apache.nifi.processors.aws.s3.FetchS3Object/index.html">FetchS3Object</a>, <a href="../../../../../components/org.apache.nifi/nifi-aws-nar/1.9.2/org.apache.nifi.processors.aws.s3.PutS3Object/index.html">PutS3Object</a>, <a href="../../../../../components/org.apache.nifi/nifi-aws-nar/1.9.2/org.apache.nifi.processors.aws.s3.DeleteS3Object/index.html">DeleteS3Object</a></p></body></html>